# 🎉 知乎爬虫项目配置完成！

## 📦 已完成的配置

### ✅ 环境配置
- [x] 项目已从 GitHub 克隆
- [x] Python 虚拟环境已创建（`venv/`）
- [x] 所有依赖包已安装
  - numpy (2.4.1)
  - selenium (4.39.0)
  - beautifulsoup4 (4.14.3)
  - requests (2.32.5)
- [x] 所有环境测试通过

### ✅ 脚本和文档
- [x] 启动脚本 `run.sh` 已创建并添加执行权限
- [x] macOS 使用指南 `README_MACOS.md` 已创建
- [x] 快速开始指南 `QUICKSTART.md` 已创建
- [x] 环境测试脚本 `test_env.py` 已创建

### ✅ 代码修复
- [x] 修复了原代码中的硬编码配置问题
- [x] 确保命令行参数可以正常工作

## 📁 项目位置

```
/Users/zhuaoyuan/cursor-workspace/knowledge-base/scripts/zhihu_spider_selenium/
```

## 🎯 下一步操作

### 1. 安装 Microsoft Edge 浏览器（如果还没有）

```bash
brew install --cask microsoft-edge
```

### 2. 进入项目目录

```bash
cd /Users/zhuaoyuan/cursor-workspace/knowledge-base/scripts/zhihu_spider_selenium
```

### 3. 首次登录

```bash
./run.sh login
```

这将：
- 自动下载适合您系统的浏览器驱动（Intel Mac）
- 打开浏览器到知乎登录页面
- 等待您手动登录
- 自动保存登录 cookie

### 4. 开始爬取

```bash
# 爬取文章
./run.sh article

# 爬取回答
./run.sh answer

# 爬取想法
./run.sh think

# 爬取所有内容
./run.sh all
```

## 📖 使用文档

详细使用方法请查看：

1. **快速开始**：`QUICKSTART.md`
2. **完整指南**：`README_MACOS.md`
3. **原始 README**：`README.md`

## 🔍 验证环境

随时可以运行环境测试：

```bash
cd /Users/zhuaoyuan/cursor-workspace/knowledge-base/scripts/zhihu_spider_selenium
source venv/bin/activate
python test_env.py
```

## 💡 使用提示

### 常用命令

```bash
# 查看帮助
source venv/bin/activate
python crawler.py --help

# 自定义爬取间隔（默认6秒）
python crawler.py --article --MarkDown --sleep_time 10

# 不重新获取链接（使用已保存的 article.txt 或 answers.txt）
python crawler.py --article --MarkDown
```

### 文件说明

- `run.sh` - 便捷启动脚本
- `crawler.py` - 主程序
- `test_env.py` - 环境测试脚本
- `article/` - 存放爬取的文章
- `answer/` - 存放爬取的回答
- `think/` - 存放爬取的想法
- `cookie/` - 存放登录 cookie（首次运行后创建）
- `log/` - 存放运行日志（首次运行后创建）

## ⚠️ 重要提示

1. **浏览器窗口**：爬取时不要最小化浏览器，不要手动操作
2. **爬取速度**：默认每篇内容间隔 6 秒，这是为了避免给知乎服务器压力
3. **Cookie 管理**：Cookie 会过期，过期后需要重新登录
4. **隐私保护**：`cookie/` 目录包含登录信息，注意保护
5. **仅供个人使用**：请遵守知乎服务条款，仅用于个人内容备份

## 🐛 故障排除

### 驱动权限问题
如果提示权限错误：
```bash
chmod +x msedgedriver/msedgedriver
```

### Cookie 失效
如果提示需要登录：
```bash
rm cookie/cookie_zhihu.pkl
./run.sh login
```

### SSL 证书问题
已使用国内镜像源解决，无需额外配置。

## 🎓 系统信息

- **操作系统**：macOS 15.7.2
- **架构**：Intel x86_64
- **Python 版本**：3.14.2
- **虚拟环境**：venv/

## 📞 技术支持

- 原项目：https://github.com/ZouJiu1/zhihu_spider_selenium
- 项目说明：查看 README.md

---

**现在可以开始使用了！** 🚀

运行 `./run.sh login` 开始第一次登录。
